% main.tex
% This is the master document for the entire solutions book.

\documentclass[letter,12pt,oneside]{book} % Using 'book' class for chapters
                                  % Use 'article' if you don't want formal chapters

\renewcommand{\thechapter}{\Roman{chapter}} % This is the key line
% This is the key line to make sections numbered simply as 1, 2, 3...
\renewcommand{\thesection}{\arabic{section}}

% Optional: If you want subsections to be 1.1, 1.2, etc. (relative to the section, not chapter)
\renewcommand{\thesubsection}{\thesection.\arabic{subsection}}

% --- NEW: For enumerate numbering ---
% This redefines the first level of enumeration to be SectionNumber.ItemNumber
\renewcommand{\theenumi}{\textbf{\thesection.\arabic{enumi}}}
% This ensures the label uses the new numbering format
\usepackage{enumitem} % Recommended package for list customization
\setlist[enumerate,1]{label=\theenumi} % Apply the label format to the first level of enumerate
% --- Preamble: Global Settings and Packages (as discussed previously) ---
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{mathtools}
\usepackage{bm}
\usepackage{geometry}
\usepackage{lipsum}
\usepackage{tcolorbox}
\tcbuselibrary{listings,breakable}
\usepackage{xcolor} % Make sure xcolor is loaded for color definitions

\usepackage{graphicx}
\graphicspath{{assets/}} % Path to global image assets
\usepackage{mathrsfs} % Add this line to your preamble for \mathscr support; tlmgr install jknapltx rsfs server-side
\usepackage{etoolbox}

\usepackage[
    colorlinks=true,
    linkcolor=blue,
    urlcolor=blue,
    citecolor=green,
    pdftitle={Algebra: Chapter 0 Solutions},
    pdfauthor={Your Name},
    pdfsubject={Mathematics Solutions},
    pdfkeywords={Math, Solutions, Textbook, LaTeX}
]{hyperref}
\tcbset{
  mysolutionbox/.style={
    coltitle=black,
    colback=gray!10,
    colframe=gray!30,
    boxrule=0.5pt,
    arc=4pt,
    left=5pt,
    right=5pt,
    top=5pt,
    bottom=3pt,
    breakable,
    title={Solution},
    fonttitle=\bfseries,
    % after upper={\par\hfill\qedsymbol\par}, % <-- Removed the square
    before upper={
      \setlength{\parskip}{0.6\baselineskip}
      \setlength{\parindent}{0pt}
      \setlist{
        nosep,
        leftmargin=1.5em
      }
    },
    after={
      \parskip=0pt
      \parindent=0pt
      \parskip=0pt
      \parindent=1em
    }
  }
}

% Now, the 'solution' environment is much simpler, just invoking tcolorbox
\newenvironment{solution}{
  \begin{tcolorbox}[mysolutionbox]
}{
  \end{tcolorbox}
}


% Custom theorem/solution environments
\newtheorem{theorem}{Theorem}[section]
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{example}[theorem]{Example}
\newtheorem{remark}[theorem]{Remark}
% \newenvironment{solution}{\textbf{Solution:}\quad}{\hfill$\square$\par\vspace{1ex}}

% --- Document Information ---
\title{Solutions for Selected Problems from Aluffi's \textit{Algebra: Chapter 0}} % Use \textit{} for book title
\author{}
\date{\today}

% --- Begin Document ---
\begin{document}

% --- Custom commands ---
\newcommand{\im}{\operatorname{im}}
\renewcommand{\hom}{\operatorname{Hom}}
% \newcommand{\hom}{\operatorname{Hom}}

% Title page
\maketitle

% Table of Contents
\frontmatter % Command for 'book' class to switch to Roman numbering for front matter
\tableofcontents
\mainmatter % Command for 'book' class to switch back to Arabic numbering for main content

% --- Include Chapters and their Sections ---

% Chapter 1
\chapter{Preliminaries: Set theory and categories} % This defines the chapter title and number
% Now, input each section's solutions within this chapter
\input{chapter-1/section-1-1.tex}
\input{chapter-1/section-1-2.tex}
\input{chapter-1/section-1-3.tex}
\input{chapter-1/section-1-4.tex}
\input{chapter-1/section-1-5.tex}

% Chapter 2
\chapter{Groups, first encounter}
\input{chapter-2/section-2-1.tex}
\input{chapter-2/section-2-2.tex}
\input{chapter-2/section-2-3.tex}
\input{chapter-2/section-2-4.tex}
\input{chapter-2/section-2-5.tex}
\input{chapter-2/section-2-6.tex}
\input{chapter-2/section-2-7.tex}
\input{chapter-2/section-2-8.tex}
\input{chapter-2/section-2-9.tex}
\input{chapter-2/section-2-10.tex}

% Chapter 3
\chapter{Rings and modules}
\input{chapter-3/section-3-1.tex}
\input{chapter-3/section-3-2.tex}
\input{chapter-3/section-3-3.tex}
\input{chapter-3/section-3-4.tex}
\input{chapter-3/section-3-5.tex}
\input{chapter-3/section-3-6.tex}
\input{chapter-3/section-3-7.tex}

% Chapter 4
\chapter{Groups, second encounter}
\input{chapter-4/section-4-1.tex}
\input{chapter-4/section-4-2.tex}
\input{chapter-4/section-4-3.tex}
\input{chapter-4/section-4-4.tex}
\input{chapter-4/section-4-5.tex}
\input{chapter-4/section-4-6.tex}
% Add more chapters as needed
% \chapter{Chapter 3: Calculus I}
% \input{chapter-3/section-3-1.tex}
% \input{chapter-3/section-3-2.tex}

% --- End Document ---
\end{document}